if(typeof(PonticStar)=="undefined"){var PonticStar={}}PonticStar.BurningWords=function(){this.interval_id=null;this.palette=null;this.canvas=null;this.stop=function(){if(this.interval_id!==null){clearInterval(this.interval_id)}};this.show=function(n,f,c,e,k,l,d,a){this.stop();if(this.palette===null){this.palette=[];for(var g=0;g<64;g++){this.palette[g]=[g*4,0,0];this.palette[g+64]=[255,g*4,0];this.palette[g+128]=[255,255,g*4];this.palette[g+192]=[255,255,255]}}this.font_string=e+"px "+c;this.text=n;this.text_color_string="rgb("+parseInt(f.substring(0,2),16)+","+parseInt(f.substring(2,4),16)+","+parseInt(f.substring(4,6),16)+")";this.bg_color_r=parseInt(k.substring(0,2),16);this.bg_color_g=parseInt(k.substring(2,4),16);this.bg_color_b=parseInt(k.substring(4,6),16);this.bg_color_a=Math.floor(255*l/100);this.bg_color_a_pct=l/100;this.bg_color_string="rgba("+this.bg_color_r+","+this.bg_color_g+","+this.bg_color_b+","+this.bg_alpha+")";var o;if(d&&!isNaN(Number(d))&&d.toString().match(/^\s+$/)===null){o=d}else{switch(d){case"x-fast":o=10;break;case"fast":o=25;break;case"slow":o=100;break;case"x-slow":o=150;break;default:case"normal":o=50;break}}if(!a){a="text-burning-"+this.counter}this.counter++;var b=document.getElementById(a);var j;if(!b){document.write('<canvas id="'+a+'" style="font-family:'+c+"; font-size:"+e+'px"></canvas>');j=a}else{b.innerHTML='<canvas id="'+a+'-canvas" style="font-family:'+c+"; font-size:"+e+'px"></canvas>';j=a+"-canvas"}this.canvas=document.getElementById(j);if(this.canvas.getContext){var m=this.canvas.getContext("2d");m.font=this.font_string;this.text_size=m.measureText(n);this.canvas.width=this.text_size.width+10;this.canvas.height=Math.floor(e*1.5);this.fire_decay=Math.floor(3+Math.exp(3.6-e/7));m.fillStyle="rgb(0,0,0)";m.fillRect(0,0,this.canvas.width,this.canvas.height);this.image=m.getImageData(0,0,this.canvas.width,this.canvas.height);m.fillStyle="rgb(0,0,0)";m.fillRect(0,0,this.canvas.width,this.canvas.height);this.image_flame=m.getImageData(0,0,this.canvas.width,this.canvas.height);m.fillStyle="rgb(0,0,0)";m.fillRect(0,0,this.canvas.width,this.canvas.height);m.fillStyle="rgb(255,255,255)";m.font=this.font_string;m.textAlign="center";m.textBaseline="bottom";m.fillText(n,this.canvas.width/2,this.canvas.height);this.image_src=m.getImageData(0,0,this.canvas.width,this.canvas.height);m.putImageData(this.image,0,0);var h=this;this.interval_id=setInterval(function(){h.burn()},o)}else{b.innerHTML="Canvas element is not supported"}};this.burn=function(){var p=this.canvas.getContext("2d");var e=this.canvas.width*this.canvas.height*4;for(var i=0;i<e;i+=4){if(this.image_src.data[i]==255){this.image_flame.data[i]=Math.floor(Math.random()*256)}}var o=(this.canvas.width*4);for(var i=0;i<(e-o);i+=4){var m=i%o;var f=this.image_flame.data[((m==0)?i+o:i)-4];var d=this.image_flame.data[((m==o-4)?i-o:i)+4];var j=this.image_flame.data[i+o];var g=Math.floor((f+d+j+j)/4);if(g>0){g-=this.fire_decay}if(g<0){g=0}this.image_flame.data[i]=g}for(var i=0;i<e;i+=4){if(this.image_flame.data[i]!=0){var h=this.image_flame.data[i];var n=this.palette;var k=(1-(3*h)/255);if(k<0){k=0}if(k>this.bg_color_a){k=this.bg_color_a}this.image.data[i]=Math.min(255,n[h][0]+Math.floor(this.bg_color_r*k));this.image.data[i+1]=Math.min(255,n[h][1]+Math.floor(this.bg_color_g*k));this.image.data[i+2]=Math.min(255,n[h][2]+Math.floor(this.bg_color_b*k));this.image.data[i+3]=Math.max(this.bg_color_a,Math.min(3*h,255))}else{this.image.data[i]=this.bg_color_r;this.image.data[i+1]=this.bg_color_g;this.image.data[i+2]=this.bg_color_b;this.image.data[i+3]=this.bg_color_a}}p.putImageData(this.image,0,0);p.fillStyle=this.text_color_string;p.font=this.font_string;p.textAlign="center";p.textBaseline="bottom";p.fillText(this.text,this.canvas.width/2,this.canvas.height)}};